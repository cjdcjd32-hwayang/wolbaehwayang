<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Wolbaehwayang</title>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js"></script>
</head>
<body>

<h1>ğŸŒ± Wolbaehwayang</h1>
<p>Firebase Hosting ì—°ê²° í…ŒìŠ¤íŠ¸ ì„±ê³µ</p>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBau9yukCvYTsahSkjy0JndEk4Docmue1I",
    authDomain: "wolbaehwayang-d1787.firebaseapp.com",
    projectId: "wolbaehwayang-d1787"
  };

  firebase.initializeApp(firebaseConfig);
</script>

</body>
<div id="nicknameBox">
<h2>ë‹‰ë„¤ì„ ì…ë ¥</h2>

<input
  type="text"
  id="nicknameInput"
  placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”"
  maxlength="10"
/>

<button id="saveNicknameBtn">ì…ì¥í•˜ê¸°</button>

<p id="statusMsg"></p>
</div>

<script type="module">
const savedNickname = localStorage.getItem("wolbaehwayang_nickname");

if (savedNickname) {
  document.getElementById("nicknameBox").style.display = "none";
  console.log("ìë™ ì…ì¥:", savedNickname);
}

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ğŸ”½ ì—¬ê¸°!
const savedNickname = localStorage.getItem("wolbaehwayang_nickname");
if (savedNickname) {
  document.getElementById("nicknameBox").style.display = "none";
}

localStorage.setItem("wolbaehwayang_nickname", nickname);

// ğŸ”½ ì´ ì¤„ ì¶”ê°€
document.getElementById("nicknameBox").style.display = "none";


  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

  // ğŸ” Firebase ì„¤ì •
  const firebaseConfig = {
    apiKey: "AIzaSyBau9yukCvYTsahSkjy0JndEk4Docmue1I",
    authDomain: "wolbaehwayang-d1787.firebaseapp.com",
    projectId: "wolbaehwayang-d1787"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const input = document.getElementById("nicknameInput");
  const btn = document.getElementById("saveNicknameBtn");
  const msg = document.getElementById("statusMsg");

  btn.addEventListener("click", async () => {
    const nickname = input.value.trim();

    if (!nickname) {
      msg.innerText = "ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.";
      msg.style.color = "red";
      return;
    }

    try {
      await setDoc(doc(db, "users", nickname), {
        nickname: nickname,
        createdAt: new Date()
      });

      // ğŸ”’ ë¸Œë¼ìš°ì €ì— ì €ì¥ (ë¡œê·¸ì¸ ëŒ€ìš©)
      localStorage.setItem("wolbaehwayang_nickname", nickname);

      msg.innerText = "ì…ì¥ ì™„ë£Œ!";
      msg.style.color = "green";

    } catch (e) {
      msg.innerText = "ì €ì¥ ì‹¤íŒ¨. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.";
      msg.style.color = "red";
      console.error(e);
    }
  });
</script>


</html>



